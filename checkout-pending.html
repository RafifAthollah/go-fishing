<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700&family=Rye&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/assets/fontawesome-free/css/all.min.css" />
    <link rel="stylesheet" href="/assets/styles/style.css" />

    <title>Homepage - Go Fishing</title>
  </head>
  <body>
    <div class="text-center my-4">
      <h1 id="title-checkout">Sedang Mengkonfirmasi Transaksi</h1>
    </div>

    <div class="container text-center">
      <div class="checkout-detail">
        <h3 id="status">Pembayaran Sedang Diproses</h3>
        <p id="detail-status">
          Tampilan ini akan otomatis berubah bila transaksi selesai, mohon
          ditunggu.
        </p>
        <h5 id="countdown" class="font-weight-bolder mt-4"></h5>
        <a href="#" id="batal" class="btn btn-danger mt-4" onclick="batal()"
          >Batalkan</a
        >
        <a href="/" class="btn bg-blue mt-4 text-white" id="success"
          >Kembalii Ke Beranda</a
        >
      </div>
      <img
        src="/assets/images/checkout-pending.png"
        id="img-status-checkout"
        class="mt-4"
        alt=""
      />
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
      integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
      crossorigin="anonymous"
    ></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script>
      var timeleft = 5;

      var downloadTimer = setInterval(function () {
        if (timeleft <= 0) {
          clearInterval(downloadTimer);
          document.getElementById("countdown").style.display = "none";
          document.getElementById("success").style.display = "inline-block";
          document.getElementById("batal").style.display = "none";
          document.getElementById("title-checkout").innerHTML =
            "Pembayaran Berhasil";
          document.getElementById("status").innerHTML = "Horeeee";
          document.getElementById("detail-status").innerHTML =
            "Pembayaran telah berhasil, terima kasih dan selamat liburan! :)";
          document.getElementById("img-status-checkout").src =
            "/assets/images/checkout-success.png";
        } else {
          document.getElementById("title-checkout").innerHTML =
            "Sedang Mengkonfirmasi Transaksi";
          document.getElementById("countdown").innerHTML = "00:00:" + timeleft;
          document.getElementById("success").style.display = "none";
        }
        timeleft -= 1;
      }, 1000);

      const batal = () => {
        clearInterval(downloadTimer);
        document.getElementById("countdown").style.display = "none";
        document.getElementById("success").style.display = "inline-block";
        document.getElementById("batal").style.display = "none";
        document.getElementById("title-checkout").innerHTML =
          "Pembayaran Gagal";
        document.getElementById("status").innerHTML = "Yaaahhh :(";
        document.getElementById("detail-status").innerHTML =
          "Mohon maaf, transaksi gagal karna dibatalkan / terjadi masalah pada sistem.";
        document.getElementById("img-status-checkout").src =
          "/assets/images/checkout-fail.png";
      };
    </script>
  </body>
</html>
